<!DOCTYPE>

<!DOCTYPE html>
<html>
<head>
<title>Cork Board</title>
<link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css"> <style>
.draggable {
    width: 225px;
    height: 100px;
    background-color: lightblue;
    border: 1px solid black;
    cursor: move;
    text-align: center;
    line-height: 100px;
}

#container {
    height: 100%;
    width: 100%;
    border: 1px  black solid;
}


</style>
</head>
<body>

    <h3 id="new_card">New Card</h3>
    <!-- <div  id="card_modal" style="display: none;"> -->
        <div  class="">
            <span class="close">Close</span>
            <form id="card_creator">
                <label for="slug">Slug:</label><br>
                <input type="text" id="slug"><br></br>
                <label for="scene">Scene:</label><br>
                <input type="text" id="scene"><br></br>
                <input id="create_card" type="submit" value="submit">
            </form>
        </div>

<div id='container'>

</div>

<script src="https://code.jquery.com/jquery-3.6.0.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<script>

    const Cards = {
        init: function() {
            console.log("Getting your corkboard ready...")

            let c = localStorage.getItem("corkboard")
            if (c) {
                const all_cards = JSON.parse(c)
                for (let i=0; i< all_cards.length; i++) {
                    let card = $("<div><div>").addClass("draggable")
                    card.append(`<h4>${all_cards[i].slug}</h4>`)
                    card.append(`<p>${all_cards[i].scene}</p>`)
                    card.draggable({containment: "#container"})
                     $("#container").append(card)
                    

                }

            } else {
                localStorage.setItem("corkboard", "")
            }



        },
        newCard: function() {
            let slug = $("#slug")
            let scene = $("#scene")
            let card = $("<div><div>").addClass("draggable")
            card.append(`<h4>${slug.val()}</h4>`)
            card.append(`<p>${scene.val()}</p>`)
            card.draggable({containment: "#container"})
            
            $("#container").append(card)
            $("#slug").val("")
            $("#scene").val("")
            
        }
    }

    $(document).ready(() => {
        Cards.init()
        $("#create_card").on("click", (event) => {
            event.preventDefault()
            Cards.newCard()
        })


   })






</script>

</body>
</html>
